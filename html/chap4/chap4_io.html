<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Input and Output &mdash; PyMan 0.9.24 documentation</title>
    
    <link rel="stylesheet" href="../_static/default.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.9.24',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <link rel="top" title="PyMan 0.9.24 documentation" href="../index.html" />
    <link rel="next" title="Plotting" href="../chap5/chap5_plot.html" />
    <link rel="prev" title="Strings, Lists, Arrays, and Dictionaries" href="../chap3/chap3_arrays.html" /> 
  </head>
  <body>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../chap5/chap5_plot.html" title="Plotting"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="../chap3/chap3_arrays.html" title="Strings, Lists, Arrays, and Dictionaries"
             accesskey="P">previous</a> |</li>
        <li><a href="../pymanMaster.html">PyMan 0.9.24 documentation</a> &raquo;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body">
            
  <div class="section" id="input-and-output">
<span id="chap4"></span><h1>Input and Output<a class="headerlink" href="#input-and-output" title="Permalink to this headline">¶</a></h1>
<p id="index-0">A good relationship depends on good communication.  In this chapter you learn how to communicate with Python.  Of course, communicating is a two-way street: input and output.  Generally, when you have Python perform some task, you need to feed it information&#8212;input.  When it is done with that task, it reports back to you the results of its calculations&#8212;output.</p>
<p>There are two venues for input that concern us: the computer keyboard and the input data file.  Similarly, there are two venues for output: the computer screen and the output data file.  We start with input from the keyboard and output to the computer screen.  Then we deal with data file input and output&#8212;or &#8220;io.&#8221;</p>
<div class="section" id="keyboard-input">
<span id="index-1"></span><h2>Keyboard input<a class="headerlink" href="#keyboard-input" title="Permalink to this headline">¶</a></h2>
<p>Many computer programs need input from the user.  In <a class="reference internal" href="../chap2/chap2_basics.html#chap2-scriptexmp1"><em>Scripting Example 1</em></a>, the program needed the distance traveled as an input in order to determine the duration of the trip and the cost of the gasoline.  As you might like to use this same script to determine the cost of several different trips, it would be useful if the program requested that input when it was run from the IPython shell.</p>
<p>Python has a function called <tt class="docutils literal"><span class="pre">raw_input</span></tt> (renamed <tt class="docutils literal"><span class="pre">input</span></tt> in Python 3) for getting input from the user and assigning it a variable name.  It has the form</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">strname</span> <span class="o">=</span> <span class="nb">raw_input</span><span class="p">(</span><span class="s">&quot;prompt to user&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>When the <tt class="docutils literal"><span class="pre">raw_input</span></tt> statement is executed, it prints the text in the quotes to the computer screen and waits for input from the user.  The user types a string of characters and presses the return key.  The <tt class="docutils literal"><span class="pre">raw_input</span></tt> function then assigns that string to the variable name on the right of the assignment operator <tt class="docutils literal"><span class="pre">=</span></tt>.</p>
<p>Let&#8217;s try it out this snippet of code in the IPython shell.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [1]: </span><span class="n">distance</span> <span class="o">=</span> <span class="nb">raw_input</span><span class="p">(</span><span class="s">&quot;Input distance of trip in miles: &quot;</span><span class="p">)</span>

<span class="go">Input distance of trip in miles:</span>
</pre></div>
</div>
<p>Python prints out the string argument of the <tt class="docutils literal"><span class="pre">raw_input</span></tt> function and waits for a response from you.  Let&#8217;s go ahead and type <tt class="docutils literal"><span class="pre">450</span></tt> for &#8220;450 miles&#8221; and press return.  Now type the variable name <tt class="docutils literal"><span class="pre">distance</span></tt> to see its value</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [2]: </span><span class="n">distance</span>
<span class="gr">Out[2]: </span><span class="s">u&#39;450&#39;</span>
</pre></div>
</div>
<p>The value of the <tt class="docutils literal"><span class="pre">distance</span></tt> is <tt class="docutils literal"><span class="pre">450</span></tt> as expected, but it is a string (the <tt class="docutils literal"><span class="pre">u</span></tt> stands for &#8220;unicode&#8221; which refers to the string coding system Python uses).  Because we want to use <tt class="docutils literal"><span class="pre">450</span></tt> as a number and not a distance, we need to convert it from a string to a number.  We can do that with the <tt class="docutils literal"><span class="pre">eval</span></tt> function by writing</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [3]: </span><span class="n">distance</span> <span class="o">=</span> <span class="nb">eval</span><span class="p">(</span><span class="n">distance</span><span class="p">)</span>

<span class="gp">In [4]: </span><span class="n">distance</span>
<span class="gr">Out[4]: </span><span class="mi">450</span>
</pre></div>
</div>
<p>The eval function has converted <cite>distance</cite> to an integer.  This is fine and we are ready to move on.  However, we might prefer that <tt class="docutils literal"><span class="pre">distance</span></tt> be a float instead of an integer.  There are two ways to do this.  We could assume the user is very smart and will type &#8220;<tt class="docutils literal"><span class="pre">450.</span></tt>&#8221; instead of &#8220;<tt class="docutils literal"><span class="pre">450</span></tt>&#8221;, which will cause distance to be a float when <tt class="docutils literal"><span class="pre">eval</span></tt> does the conversion.  That is, the number 450 is dynamically typed to be a float or an integer depending on whether or not the user uses a decimal point.  Alternatively, we could use the function <tt class="docutils literal"><span class="pre">float</span></tt> in place of <tt class="docutils literal"><span class="pre">eval</span></tt>, which would ensure that <tt class="docutils literal"><span class="pre">distance</span></tt> is a floating point variable.  Thus, our code would look like this (including the user response):</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [5]: </span><span class="n">distance</span> <span class="o">=</span> <span class="nb">raw_input</span><span class="p">(</span><span class="s">&quot;Input distance of trip in miles: &quot;</span><span class="p">)</span>

<span class="go">Input distance of trip in miles: 450</span>

<span class="gp">In [5]: </span><span class="n">distance</span>
<span class="gr">Out[5]: </span><span class="s">u&#39;450&#39;</span>

<span class="gp">In [7]: </span><span class="n">distance</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">distance</span><span class="p">)</span>

<span class="gp">In [8]: </span><span class="n">distance</span>
<span class="gr">Out[8]: </span><span class="mf">450.0</span>
</pre></div>
</div>
<p>Now let&#8217;s incorporate what we have learned into the code we wrote for <a class="reference internal" href="../chap2/chap2_basics.html#chap2-scriptexmp1"><em>Scripting Example 1</em></a></p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span class="c"># Calculates time, gallons of gas used, and cost of gasoline for</span>
<span class="c"># a trip</span>

<span class="n">distance</span> <span class="o">=</span> <span class="nb">raw_input</span><span class="p">(</span><span class="s">&quot;Input distance of trip in miles: &quot;</span><span class="p">)</span>
<span class="n">distance</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="n">distance</span><span class="p">)</span>

<span class="n">mpg</span> <span class="o">=</span> <span class="mf">30.</span>               <span class="c"># car mileage</span>
<span class="n">speed</span> <span class="o">=</span> <span class="mf">60.</span>             <span class="c"># average speed</span>
<span class="n">costPerGallon</span> <span class="o">=</span> <span class="mf">4.10</span>    <span class="c"># price of gas</span>

<span class="n">time</span> <span class="o">=</span> <span class="n">distance</span><span class="o">/</span><span class="n">speed</span>
<span class="n">gallons</span> <span class="o">=</span> <span class="n">distance</span><span class="o">/</span><span class="n">mpg</span>
<span class="n">cost</span> <span class="o">=</span> <span class="n">gallons</span><span class="o">*</span><span class="n">costPerGallon</span>
</pre></div>
</td></tr></table></div>
<p>Lines 4 and 5 can be combined into a single line, which is a little more efficient:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">distance</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="nb">raw_input</span><span class="p">(</span><span class="s">&quot;Input distance of trip in miles: &quot;</span><span class="p">))</span>
</pre></div>
</div>
<p>Whether you use <tt class="docutils literal"><span class="pre">float</span></tt> or <tt class="docutils literal"><span class="pre">int</span></tt> or <tt class="docutils literal"><span class="pre">eval</span></tt> depends on whether you want a float, an integer, or a dynamically typed variable.  In this program, it doesn&#8217;t matter.</p>
<p>Now you can simply run the program and then type <tt class="docutils literal"><span class="pre">time</span></tt>, <tt class="docutils literal"><span class="pre">gallons</span></tt>, and <tt class="docutils literal"><span class="pre">cost</span></tt> to view the results of the calculations done by the program.</p>
<p>Before moving on to output, we note that sometimes you may want string input rather that numerical input.  For example, you might want the user to input their name, in which case you would simply use the <tt class="docutils literal"><span class="pre">raw_input</span></tt> function without converting its output.</p>
</div>
<div class="section" id="screen-output">
<span id="screenoutput"></span><span id="index-2"></span><h2>Screen output<a class="headerlink" href="#screen-output" title="Permalink to this headline">¶</a></h2>
<p>It would be much more convenient if the program in the previous section would simply write its output to the computer screen, instead of requiring the user to type <tt class="docutils literal"><span class="pre">time</span></tt>, <tt class="docutils literal"><span class="pre">gallons</span></tt>, and <tt class="docutils literal"><span class="pre">cost</span></tt> to view the results.  Fortunately, this can be accomplished very simply using Python&#8217;s <tt class="docutils literal"><span class="pre">print</span></tt> function.  For example, simply including the statement <tt class="docutils literal"><span class="pre">print(time,</span> <span class="pre">gallons,</span> <span class="pre">cost)</span></tt> after line 12, running the program would give the following result:</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [1]: </span><span class="n">run</span> <span class="n">myTripIO</span><span class="o">.</span><span class="n">py</span>

<span class="go">What is the distance of your trip in miles? 450</span>
<span class="go">(7.5, 15.0, 61.49999999999999)</span>
</pre></div>
</div>
<p>The program prints out the results as a tuple of time (in hours), gasoline used (in gallons), and cost (in dollars).  Of course, the program doesn&#8217;t give the user a clue as to which quantity is which.  The user has to know.</p>
<div class="section" id="formatting-output-with-str-format">
<h3>Formatting output with <tt class="docutils literal"><span class="pre">str.format()</span></tt><a class="headerlink" href="#formatting-output-with-str-format" title="Permalink to this headline">¶</a></h3>
<p>We can clean up the output of the example above and make it considerably more user friendly.  The program below demonstrates how to do this.</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17</pre></div></td><td class="code"><div class="highlight"><pre><span class="c"># Calculates time, gallons of gas used, and cost of gasoline for</span>
<span class="c"># a trip</span>

<span class="n">distance</span> <span class="o">=</span> <span class="nb">float</span><span class="p">(</span><span class="nb">raw_input</span><span class="p">(</span><span class="s">&quot;Input distance of trip in miles: &quot;</span><span class="p">))</span>
<span class="n">mpg</span> <span class="o">=</span> <span class="mf">30.</span>               <span class="c"># car mileage</span>
<span class="n">speed</span> <span class="o">=</span> <span class="mf">60.</span>             <span class="c"># average speed</span>
<span class="n">costPerGallon</span> <span class="o">=</span> <span class="mf">4.10</span>    <span class="c"># price of gas</span>

<span class="n">time</span> <span class="o">=</span> <span class="n">distance</span><span class="o">/</span><span class="n">speed</span>
<span class="n">gallons</span> <span class="o">=</span> <span class="n">distance</span><span class="o">/</span><span class="n">mpg</span>
<span class="n">cost</span> <span class="o">=</span> <span class="n">gallons</span><span class="o">*</span><span class="n">costPerGallon</span>

<span class="k">print</span><span class="p">(</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">Duration of trip = {0:0.1f} hours&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">time</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot;Gasoline used = {0:0.1f} gallons (@ {1:0.0f} mpg)&quot;</span>
      <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">gallons</span><span class="p">,</span> <span class="n">mpg</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="s">&quot;Cost of gasoline = ${0:0.2f} (@ ${1:0.2f}/gallon)&quot;</span>
      <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">cost</span><span class="p">,</span> <span class="n">costPerGallon</span><span class="p">))</span>
</pre></div>
</td></tr></table></div>
<p>The final two <tt class="docutils literal"><span class="pre">print</span></tt> function calls in this script are continued on a second line in order to improve readability.
Running this program, with the distance provided by the user, gives</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [9]: </span><span class="n">run</span> <span class="n">myTripNiceIO</span><span class="o">.</span><span class="n">py</span>

<span class="go">What is the trip distance in miles? 450</span>

<span class="go">Duration of trip = 7.5 hours</span>
<span class="go">Gasoline used = 15.0 gallons (@ 30 mpg)</span>
<span class="go">Cost of gasoline = $61.50 (@ $4.10/gallon)</span>
</pre></div>
</div>
<p>Now the output is presented in a way that is immediately understandable to the user.  Moreover, the numerical output is formatted with an appropriate number of digits to the right of the decimal point.  For good measure, we also included the assumed mileage (30 mpg) and the cost of the gasoline.  All of this is controlled by the <tt class="docutils literal"><span class="pre">str.format()</span></tt> function within the <tt class="docutils literal"><span class="pre">print</span></tt> function.</p>
<p>The argument of the <tt class="docutils literal"><span class="pre">print</span></tt> function is of the form <tt class="docutils literal"><span class="pre">str.format()</span></tt> where  <tt class="docutils literal"><span class="pre">str</span></tt> is a string that contains text that is written to be the screen, as well as certain format specifiers contained in curly braces <tt class="docutils literal"><span class="pre">{}</span></tt>.  The <tt class="docutils literal"><span class="pre">format</span></tt> function contains the list of variables that are to be printed.</p>
<blockquote>
<div><ul class="simple">
<li>The <tt class="docutils literal"><span class="pre">\n</span></tt> at the start of the string in the <tt class="docutils literal"><span class="pre">print</span></tt> statement on line 12 in the newline character.  It creates the blank line before the output is printed.</li>
<li>The positions of the curly braces determine where the variables in the <tt class="docutils literal"><span class="pre">format</span></tt> function at the end of the statement are printed.</li>
<li>The format string inside the curly braces specifies how each variable in the <tt class="docutils literal"><span class="pre">format</span></tt> function is printed.</li>
<li>The number before the colon in the format string specifies which variable in the list in the <tt class="docutils literal"><span class="pre">format</span></tt> function is printed.  Remember, Python is zero-indexed, so 0 means the first variable is printed, 1 means the second variable, <em>etc</em>.</li>
<li>The zero after the colon specifies the <em>minimum</em> number of spaces reserved for printing out the variable in the format function. A zero means that only as many spaces as needed will be used.</li>
<li>The number after the period specifies the number of digits to the right of the decimal point that will be printed: <tt class="docutils literal"><span class="pre">1</span></tt> for <tt class="docutils literal"><span class="pre">time</span></tt> and <tt class="docutils literal"><span class="pre">gallons</span></tt> and <tt class="docutils literal"><span class="pre">2</span></tt> for <tt class="docutils literal"><span class="pre">cost</span></tt>.</li>
<li>The <tt class="docutils literal"><span class="pre">f</span></tt> specifies that a number with a fixed number of decimal points.  If the <tt class="docutils literal"><span class="pre">f</span></tt> format specifier is replaced with <tt class="docutils literal"><span class="pre">e</span></tt>, then the number is printed out in exponential format (scientific notation).</li>
</ul>
</div></blockquote>
<p>In addition to <tt class="docutils literal"><span class="pre">f</span></tt> and <tt class="docutils literal"><span class="pre">e</span></tt> format types, there are two more that are commonly used: <tt class="docutils literal"><span class="pre">d</span></tt> for integers (digits) and <tt class="docutils literal"><span class="pre">s</span></tt> for strings.  There are, in fact, many more formatting possibilities.  Python has a whole &#8220;Format Specification Mini-Language&#8221; that is documented at <a class="reference external" href="http://docs.python.org/library/string.html#formatspec">http://docs.python.org/library/string.html#formatspec</a>.  It&#8217;s very flexible but arcane.  You might find it simplest to look at the &#8220;Format examples&#8221; section further down the same web page.</p>
<p>The program below illustrates most of the formatting you will need for writing a few variables, be they strings, integers, or floats, to screen or to data files (which we discuss in the next section).</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">string1</span> <span class="o">=</span> <span class="s">&quot;How&quot;</span>
<span class="n">string2</span> <span class="o">=</span> <span class="s">&quot;are you my friend?&quot;</span>
<span class="n">int1</span> <span class="o">=</span> <span class="mi">34</span>
<span class="n">int2</span> <span class="o">=</span> <span class="mi">942885</span>
<span class="n">float1</span> <span class="o">=</span> <span class="o">-</span><span class="mf">3.0</span>
<span class="n">float2</span> <span class="o">=</span> <span class="mf">3.141592653589793e-14</span>

<span class="k">print</span><span class="p">(</span><span class="s">&#39; ***&#39;</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">string1</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">string1</span> <span class="o">+</span> <span class="s">&#39; &#39;</span> <span class="o">+</span> <span class="n">string2</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">&#39; 1. {} {}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">string1</span><span class="p">,</span> <span class="n">string2</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="s">&#39; 2. {0:s} {1:s}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">string1</span><span class="p">,</span> <span class="n">string2</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="s">&#39; 3. {0:s} {0:s} {1:s} - {0:s} {1:s}&#39;</span>
      <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">string1</span><span class="p">,</span> <span class="n">string2</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="s">&#39; 4. {0:10s}{1:5s}&#39;</span>
      <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">string1</span><span class="p">,</span> <span class="n">string2</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="s">&#39; ***&#39;</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="n">int1</span><span class="p">,</span> <span class="n">int2</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">&#39; 6. {0:d} {1:d}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">int1</span><span class="p">,</span> <span class="n">int2</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="s">&#39; 7. {0:8d} {1:10d}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">int1</span><span class="p">,</span> <span class="n">int2</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="s">&#39; ***&#39;</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">&#39; 8. {0:0.3f}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">float1</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="s">&#39; 9. {0:6.3f}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">float1</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="s">&#39;10. {0:8.3f}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">float1</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="mi">2</span><span class="o">*</span><span class="s">&#39;11. {0:8.3f}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">float1</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="s">&#39; ***&#39;</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">&#39;12. {0:0.3e}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">float2</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="s">&#39;13. {0:10.3e}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">float2</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="s">&#39;14. {0:10.3f}&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">float2</span><span class="p">))</span>
<span class="k">print</span><span class="p">(</span><span class="s">&#39; ***&#39;</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">&#39;15. 12345678901234567890&#39;</span><span class="p">)</span>
<span class="k">print</span><span class="p">(</span><span class="s">&#39;16. {0:s}--{1:8d},{2:10.3e}&#39;</span>
      <span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">string2</span><span class="p">,</span> <span class="n">int1</span><span class="p">,</span> <span class="n">float2</span><span class="p">))</span>
</pre></div>
</div>
<p>Here is the output:</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21
22
23</pre></div></td><td class="code"><div class="highlight"><pre> ***
How
How are you my friend?
 1. How are you my friend?
 2. How are you my friend?
 3. How How are you my friend? - How are you my friend?
 4. How       are you my friend?
 ***
(34, 942885)
 6. 34 942885
 7.       34     942885
 ***
 8. -3.000
 9. -3.000
10.   -3.000
11.   -3.00011.   -3.000
 ***
12. 3.142e-14
13.  3.142e-14
14.      0.000
 ***
15. 12345678901234567890
16. are you my friend?--      34, 3.142e-14
</pre></div>
</td></tr></table></div>
<p>Successive empty brackets <tt class="docutils literal"><span class="pre">{}</span></tt> like those that appear in the statement above <tt class="docutils literal"><span class="pre">print('</span> <span class="pre">1.</span> <span class="pre">{}</span> <span class="pre">{}'.format(string1,</span> <span class="pre">string2))</span></tt> are numbered consecutively starting at 0 and will print out whatever variables appear inside the <tt class="docutils literal"><span class="pre">format()</span></tt> method using their default format.</p>
<p>Finally, note that the code starting on lines 14 and 16 each are split into two lines.  We have done this so that the lines fit on the page without running off the edge.  Python allows you to break lines up like this to improve readability.</p>
</div>
<div class="section" id="printing-arrays">
<h3>Printing arrays<a class="headerlink" href="#printing-arrays" title="Permalink to this headline">¶</a></h3>
<p id="index-3">Formatting NumPy arrays for printing requires another approach.  As an example, let&#8217;s create an array and then format it in various ways.  From the IPython terminal</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [10]: </span><span class="n">a</span> <span class="o">=</span> <span class="n">linspace</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">19</span><span class="p">,</span> <span class="mi">7</span><span class="p">)</span>
<span class="gp">In [11]: </span><span class="k">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">[  3.           5.66666667   8.33333333  11.</span>
<span class="go">   13.66666667  16.33333333  19.        ]</span>
</pre></div>
</div>
<p>Simply using the <tt class="docutils literal"><span class="pre">print</span></tt> function does print out the array, but perhaps not in the format you desire.  To control the output format, you use the NumPy function <tt class="docutils literal"><span class="pre">set_printoptions</span></tt>.  For example, suppose you want to see no more than two digits to the right of the decimal point.  Then you simply write</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [12]: </span><span class="n">set_printoptions</span><span class="p">(</span><span class="n">precision</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
<span class="gp">In [13]: </span><span class="k">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">[  3.     5.67   8.33  11.    13.67  16.33  19.  ]</span>
</pre></div>
</div>
<p>If you want to change the number of digits to the right of the decimal point to 4, you set the keyword argument <tt class="docutils literal"><span class="pre">precision</span></tt> to 4</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [14]: </span><span class="n">set_printoptions</span><span class="p">(</span><span class="n">precision</span><span class="o">=</span><span class="mi">4</span><span class="p">)</span>
<span class="gp">In [15]: </span><span class="k">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">[  3.       5.6667   8.3333  11.      13.6667  16.3333  19.    ]</span>
</pre></div>
</div>
<p>Suppose you want to use scientific notation.  The method for doing it is somewhat arcane, using something called a <tt class="docutils literal"><span class="pre">lambda</span></tt> function.  For now, you don&#8217;t need to understand how it works to use it.  Just follow the examples shown below, which illustrate several different output formats using the <tt class="docutils literal"><span class="pre">print</span></tt> function with NumPy arrays.</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [16]: </span><span class="n">set_printoptions</span><span class="p">(</span>
<span class="go">    ...: formatter={&#39;float&#39;: lambda x: format(x, &#39;6.2e&#39;)})</span>

<span class="gp">In [17]: </span><span class="k">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">[3.00e+00 5.67e+00 8.33e+00 1.10e+01 1.37e+01 1.63e+01 1.90e+01]</span>
</pre></div>
</div>
<p>To specify the format of the output, you use the <tt class="docutils literal"><span class="pre">formatter</span></tt> keyword argument.  The first entry to the right of the curly bracket is a string that can be <tt class="docutils literal"><span class="pre">'float'</span></tt>, as it is above, or <tt class="docutils literal"><span class="pre">'int'</span></tt>, or <tt class="docutils literal"><span class="pre">'str'</span></tt>, or a number of other data types that you can look up in the online NumPy documentation.  The only other thing you should change is the format specifier string.  In the above example, it is <tt class="docutils literal"><span class="pre">'6.2e'</span></tt>, specifying that Python should allocate at least 6 spaces, with 2 digits to the right of the decimal point in scientific (exponential) notation.  For fixed width floats with 3 digits to the right of the decimal point, use the <tt class="docutils literal"><span class="pre">f</span></tt> in place of the <tt class="docutils literal"><span class="pre">e</span></tt> format specifier, as follows</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [18]: </span><span class="n">set_printoptions</span><span class="p">(</span>
<span class="go">    ...: formatter={&#39;float&#39;: lambda x: format(x, &#39;6.3f&#39;)})</span>
<span class="gp">In [19]: </span><span class="k">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">[ 3.000  5.667  8.333 11.000 13.667 16.333 19.000]</span>
</pre></div>
</div>
<p>To return to the default format, type the following</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [20]: </span><span class="n">set_printoptions</span><span class="p">(</span><span class="n">precision</span><span class="o">=</span><span class="mi">8</span><span class="p">)</span>
<span class="gp">In [21]: </span><span class="k">print</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="go">[  3.           5.66666667   8.33333333  11.</span>
<span class="go">   13.66666667  16.33333333  19.        ]</span>
</pre></div>
</div>
<p>The <tt class="docutils literal"><span class="pre">set_printoptions</span></tt> is a NumPy function, so if you use it in a script or program, you should call it by writing <tt class="docutils literal"><span class="pre">np.set_printoptions</span></tt>.</p>
</div>
</div>
<div class="section" id="file-input">
<span id="index-4"></span><h2>File input<a class="headerlink" href="#file-input" title="Permalink to this headline">¶</a></h2>
<div class="section" id="reading-data-from-a-text-file">
<h3>Reading data from a text file<a class="headerlink" href="#reading-data-from-a-text-file" title="Permalink to this headline">¶</a></h3>
<p>Often you would like to analyze data that you have stored in a text file.  Consider, for example, the data file below for an experiment measuring the free fall of a mass.</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18</pre></div></td><td class="code"><div class="highlight"><pre>Data for falling mass experiment
Date: 16-Aug-2013
Data taken by Lauren and John

data point      time (sec)      height (mm)     uncertainty (mm)
    0               0.0             180             3.5
    1               0.5             182             4.5
    2               1.0             178             4.0
    3               1.5             165             5.5
    4               2.0             160             2.5
    5               2.5             148             3.0
    6               3.0             136             2.5
    7               3.5             120             3.0
    8               4.0              99             4.0
    9               4.5              83             2.5
   10               5.0              55             3.6
   11               5.5              35             1.75
   12               6.0               5             0.75
</pre></div>
</td></tr></table></div>
<p>We would like to read these data into a Python program, associating the data in each column with an appropriately named array.  While there are a multitude of ways to do this in Python, the simplest by far is to use the NumPy <tt class="docutils literal"><span class="pre">loadtxt</span></tt> function, whose use we illustrate here.  Suppose that the name of the text file is <tt class="docutils literal"><span class="pre">MyData.txt</span></tt>.  Then we can read the data into four different arrays with the following statement</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [1]: </span><span class="n">dataPt</span><span class="p">,</span> <span class="n">time</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">error</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">loadtxt</span><span class="p">(</span><span class="s">&quot;MyData.txt&quot;</span><span class="p">,</span>
<span class="go">      skiprows=5 , unpack=True)</span>
</pre></div>
</div>
<p>In this case, the <tt class="docutils literal"><span class="pre">loadtxt</span></tt> function takes three arguments: the first is a string that is the name of the file to be read, the second tells <tt class="docutils literal"><span class="pre">loadtxt</span></tt> to skip the first 5 lines at the top of file, sometimes called the <em>header</em>, and the third tells <tt class="docutils literal"><span class="pre">loadtxt</span></tt> to output the data (<em>unpack</em> the data) so that it can be directly read into arrays.  <tt class="docutils literal"><span class="pre">loadtxt</span></tt> reads however many columns of data are present in the text file to the array names listed to the left of the &#8220;<tt class="docutils literal"><span class="pre">=</span></tt>&#8221; sign.  The names labeling the columns in the text file are not used, but you are free to choose the same or similar names, of course, as long as they are legal array names.  By the way, for the above <tt class="docutils literal"><span class="pre">loadtxt</span></tt> call to work, the file <tt class="docutils literal"><span class="pre">MyData.txt</span></tt> should be in the current working directory of the IPython shell. Otherwise, you need to specify the directory path with the file name.</p>
<p>It is critically important that the data file be a <em>text</em> file.  It cannot be a MSWord file, for example, or an Excel file, or anything other than a plain text file.  Such files can be created by a text editor programs like <strong class="program">Notepad</strong> and <strong class="program">Notepad++</strong> (for a PC) or <strong class="program">TextEdit</strong> and <strong class="program">TextWrangler</strong> (for a Mac).  They can also be created by MSWord and Excel provided you explicitly save the files as text files.  <strong>Beware</strong>: You should exit any text file you make and save it with a program that allows you to save the text file using <strong>UNIX</strong>-type formatting, which uses a <em>line feed</em> (LF) to end a line.  Some programs, like MSWord under Windows, may include a carriage return (CR) character, which can confuse <tt class="docutils literal"><span class="pre">loadtxt</span></tt>.  Note that we give the file name a <tt class="docutils literal"><span class="pre">.txt</span></tt> <em>extension</em>, which indicates to most operating systems that this is a <em>text</em> file, as opposed to an Excel file, for example, which might have a <tt class="docutils literal"><span class="pre">.xlsx</span></tt> or <tt class="docutils literal"><span class="pre">.xls</span></tt> extension.</p>
<p>If you don&#8217;t want to read in all the columns of data, you can specify which columns to read in using the <tt class="docutils literal"><span class="pre">usecols</span></tt> key word.  For example, the call</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [2]: </span><span class="n">time</span><span class="p">,</span> <span class="n">height</span> <span class="o">=</span> <span class="n">loadtxt</span><span class="p">(</span><span class="s">&#39;MyData.txt&#39;</span><span class="p">,</span> <span class="n">skiprows</span><span class="o">=</span><span class="mi">5</span> <span class="p">,</span>
<span class="go">                                 usecols = (1,2), unpack=True)</span>
</pre></div>
</div>
<p>reads in only columns 1 and 2; columns 0 and 3 are skipped.  As a consequence, only two array names are included to the left of the &#8220;<tt class="docutils literal"><span class="pre">=</span></tt>&#8221; sign, corresponding to the two column that are read.  Writing <tt class="docutils literal"><span class="pre">usecols</span> <span class="pre">=</span> <span class="pre">(0,2,3)</span></tt> would skip column 1 and read in only the data in colums 0, 2, and 3.  In this case, 3 array names would need to be provided on the left hand side of the &#8220;<tt class="docutils literal"><span class="pre">=</span></tt>&#8221; sign.</p>
<p>One convenient feature of the <tt class="docutils literal"><span class="pre">loadtxt</span></tt> function is that it recognizes any <em>white space</em> as a column separator: spaces, tabs, <em>etc.</em></p>
<p>Finally you should remember that <tt class="docutils literal"><span class="pre">loadtxt</span></tt> is a NumPy function.  So if you are using it in a Python module, you must be sure to include an &#8220;<tt class="docutils literal"><span class="pre">import</span> <span class="pre">numpy</span> <span class="pre">as</span> <span class="pre">np</span></tt>&#8221;  statement before calling &#8220;<tt class="docutils literal"><span class="pre">np.loadtxt</span></tt>&#8221;.</p>
</div>
<div class="section" id="reading-data-from-a-csv-file">
<h3>Reading data from a CSV file<a class="headerlink" href="#reading-data-from-a-csv-file" title="Permalink to this headline">¶</a></h3>
<div class="figure align-center" id="fig-excelwindow">
<a class="reference internal image-reference" href="../_images/ExcelDataFile.png"><img alt="Data in Excel spreadsheet" src="../_images/ExcelDataFile.png" style="width: 299.65px; height: 321.1px;" /></a>
<p class="caption">Excel data sheet</p>
</div>
<p>Sometimes you have data stored in a spreadsheet program like Excel that you would like to read into a Python program.  The <a class="reference internal" href="#fig-excelwindow"><em>Excel data sheet</em></a> shown below contains the same data set we saw above in a text file.  While there are a number of different approaches one can use to reading such files, one of the simplest of most robust is to save the spreadsheet as a CSV (&#8220;comma separated value&#8221;) file, a format which all common spreadsheet programs can create and read.  So, if your Excel spreadsheet was called <tt class="docutils literal"><span class="pre">MyData.xlsx</span></tt>, the CSV file saved using Excel&#8217;s <tt class="docutils literal"><span class="pre">Save</span> <span class="pre">As</span></tt> command would by default be <tt class="docutils literal"><span class="pre">MyData.csv</span></tt>.  It would look like this</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18</pre></div></td><td class="code"><div class="highlight"><pre>Data for falling mass experiment,,,
Date: 16-Aug-2013,,,
Data taken by Lauren and John,,,
,,,
data point,time (sec0,height (mm),uncertainty (mm)
0,0,180,3.5
1,0.5,182,4.5
2,1,178,4
3,1.5,165,5.5
4,2,160,2.5
5,2.5,148,3
6,3,136,2.5
7,3.5,120,3
8,4,99,4
9,4.5,83,2.5
10,5,55,3.6
11,5.5,35,1.75
12,6,5,0.75
</pre></div>
</td></tr></table></div>
<p>As its name suggests, the CSV file is simply a text file with the data that was formerly in spreadsheet columns now separated by commas.  We can read the data in this file into a Python program using the <tt class="docutils literal"><span class="pre">loadtxt</span></tt> NumPy function once again.  Here is the code</p>
<div class="highlight-ipython"><div class="highlight"><pre><span class="gp">In [3]: </span><span class="n">dataPt</span><span class="p">,</span> <span class="n">time</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">error</span> <span class="o">=</span> <span class="n">loadtxt</span><span class="p">(</span><span class="s">&quot;MyData.csv&quot;</span><span class="p">,</span>
<span class="go">                      skiprows=5 , unpack=True, delimiter=&#39;,&#39;)</span>
</pre></div>
</div>
<p>The form of the function is exactly the same as before except we have added the argument <tt class="docutils literal"><span class="pre">delimiter=','</span></tt> that tells <tt class="docutils literal"><span class="pre">loadtxt</span></tt> that the columns are separated by commas instead of white space (spaces or tabs), which is the default.  Once again, we set the <tt class="docutils literal"><span class="pre">skiprows</span></tt> argument to skip the header at the beginning of the file and to start reading at the first row of data.  The data are output to the arrays to the right of the assignment operator <tt class="docutils literal"><span class="pre">=</span></tt> exactly as in the previous example.</p>
</div>
</div>
<div class="section" id="file-output">
<span id="index-5"></span><h2>File output<a class="headerlink" href="#file-output" title="Permalink to this headline">¶</a></h2>
<div class="section" id="writing-data-to-a-text-file">
<h3>Writing data to a text file<a class="headerlink" href="#writing-data-to-a-text-file" title="Permalink to this headline">¶</a></h3>
<p>There is a plethora of ways to write data to a data file in Python.  We will stick to one very simple one that&#8217;s suitable for writing data files in text format.  It uses the NumPy <tt class="docutils literal"><span class="pre">savetxt</span></tt> routine, which is the counterpart of the <tt class="docutils literal"><span class="pre">loadtxt</span></tt> routine introduced in the previous section.  The general form of the routine is</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">savetxt</span><span class="p">(</span><span class="n">filename</span><span class="p">,</span> <span class="n">array</span><span class="p">,</span> <span class="n">fmt</span><span class="o">=</span><span class="s">&quot;</span><span class="si">%0.18e</span><span class="s">&quot;</span><span class="p">,</span> <span class="n">delimiter</span><span class="o">=</span><span class="s">&quot; &quot;</span><span class="p">,</span> <span class="n">newline</span><span class="o">=</span><span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span>
    <span class="n">header</span><span class="o">=</span><span class="s">&quot;&quot;</span><span class="p">,</span> <span class="n">footer</span><span class="o">=</span><span class="s">&quot;&quot;</span><span class="p">,</span> <span class="n">comments</span><span class="o">=</span><span class="s">&quot;# &quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>We illustrate <tt class="docutils literal"><span class="pre">savetext</span></tt> below with a script that first creates four arrays by reading in the data file <tt class="docutils literal"><span class="pre">MyData.txt</span></tt>, as discussed in the previous section, and then writes that same data set to another file <tt class="docutils literal"><span class="pre">MyDataOut.txt</span></tt>.</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre>1
2
3
4
5
6
7</pre></div></td><td class="code"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>

<span class="n">dataPt</span><span class="p">,</span> <span class="n">time</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">error</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">loadtxt</span><span class="p">(</span><span class="s">&quot;MyData.txt&quot;</span><span class="p">,</span>
                                 <span class="n">skiprows</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">unpack</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="n">np</span><span class="o">.</span><span class="n">savetxt</span><span class="p">(</span><span class="s">&#39;MyDataOut.txt&#39;</span><span class="p">,</span>
    <span class="nb">zip</span><span class="p">(</span><span class="n">dataPt</span><span class="p">,</span> <span class="n">time</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">error</span><span class="p">),</span> <span class="n">fmt</span><span class="o">=</span><span class="s">&quot;</span><span class="si">%12.1f</span><span class="s">&quot;</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>The first argument of of <tt class="docutils literal"><span class="pre">savetxt</span></tt> is a string, the name of the data file to be created.  Here we have chosen the name <tt class="docutils literal"><span class="pre">MyDataOut.txt</span></tt>, inserted with quotes, which designates it as a string literal.  Beware, if there is already a file of that name on your computer, it will be overwritten&#8212;the old file will be destroyed and a new one will be created.</p>
<p>The second argument is the data array the is to be written to the data file.  Because we want to write not one but four data arrays to the file, we have to package the four data arrays as one, which we do using the <tt class="docutils literal"><span class="pre">zip</span></tt> function, a Python function that combines returns a list of tuples, where the <img class="math" src="../_images/math/517d51e70a45edac8ab1f4603f0a899a5b335dd4.png" alt="i^\mathrm{th}"/> tuple contains the <img class="math" src="../_images/math/517d51e70a45edac8ab1f4603f0a899a5b335dd4.png" alt="i^\mathrm{th}"/> element from each of the arrays (or lists, or tuples) listed as its arguments.  Since there are four arrays, each row will be a tuple with four entries, producing a table with four columns.  Note that the first two arguments, the filename and data array, are regular arguments and thus must appear as the first and second arguments in the correct order.  The remaining arguments are all keyword arguments, meaning that they are optional and can appear in any order, provided you use the keyword.</p>
<p>The next argument is a format string that determines how the elements of the array are displayed in the data file.  The argument is optional and, if left out, is the format <tt class="docutils literal"><span class="pre">0.18e</span></tt>, which displays numbers as 18 digit floats in exponential (scientific) notation.  Here we choose a different format, <tt class="docutils literal"><span class="pre">12.1f</span></tt>, which is a float displayed with 1 digit to the right of the decimal point and a minimum width of 12.  By choosing 12, which is more digits than any of the numbers in the various arrays have, we ensure that all the columns will have the same width.  It also ensures that the decimal points in column of numbers are aligned.   This is evident in the data file below, <cite>MyDataOut.txt</cite>, which was produced by the above script.</p>
<div class="highlight-python"><div class="highlight"><pre> <span class="mf">0.0</span>          <span class="mf">0.0</span>        <span class="mf">180.0</span>          <span class="mf">3.5</span>
 <span class="mf">1.0</span>          <span class="mf">0.5</span>        <span class="mf">182.0</span>          <span class="mf">4.5</span>
 <span class="mf">2.0</span>          <span class="mf">1.0</span>        <span class="mf">178.0</span>          <span class="mf">4.0</span>
 <span class="mf">3.0</span>          <span class="mf">1.5</span>        <span class="mf">165.0</span>          <span class="mf">5.5</span>
 <span class="mf">4.0</span>          <span class="mf">2.0</span>        <span class="mf">160.0</span>          <span class="mf">2.5</span>
 <span class="mf">5.0</span>          <span class="mf">2.5</span>        <span class="mf">148.0</span>          <span class="mf">3.0</span>
 <span class="mf">6.0</span>          <span class="mf">3.0</span>        <span class="mf">136.0</span>          <span class="mf">2.5</span>
 <span class="mf">7.0</span>          <span class="mf">3.5</span>        <span class="mf">120.0</span>          <span class="mf">3.0</span>
 <span class="mf">8.0</span>          <span class="mf">4.0</span>         <span class="mf">99.0</span>          <span class="mf">4.0</span>
 <span class="mf">9.0</span>          <span class="mf">4.5</span>         <span class="mf">83.0</span>          <span class="mf">2.5</span>
<span class="mf">10.0</span>          <span class="mf">5.0</span>         <span class="mf">55.0</span>          <span class="mf">3.6</span>
<span class="mf">11.0</span>          <span class="mf">5.5</span>         <span class="mf">35.0</span>          <span class="mf">1.8</span>
<span class="mf">12.0</span>          <span class="mf">6.0</span>          <span class="mf">5.0</span>          <span class="mf">0.8</span>
</pre></div>
</div>
<p>We omitted the optional <tt class="docutils literal"><span class="pre">delimiter</span></tt> keyword argument, which leaves the delimiter as the default space.</p>
<p>We also omitted the optional <tt class="docutils literal"><span class="pre">header</span></tt> keyword argument, which is a string variable that allows you to write header text above the data.  For example, you might want to label the data columns and also include the information that was in the header of the original data file.  To do so, you just need to create a string with the information you want to include and then use the <tt class="docutils literal"><span class="pre">header</span></tt> keyword argument.  The code below illustrates how to do this.</p>
<div class="highlight-python"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13</pre></div></td><td class="code"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">numpy</span> <span class="kn">as</span> <span class="nn">np</span>

<span class="n">dataPt</span><span class="p">,</span> <span class="n">time</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">error</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">loadtxt</span><span class="p">(</span><span class="s">&quot;MyData.txt&quot;</span><span class="p">,</span>
                                 <span class="n">skiprows</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">unpack</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>

<span class="n">info</span> <span class="o">=</span> <span class="s">&#39;Data for falling mass experiment&#39;</span>
<span class="n">info</span> <span class="o">+=</span> <span class="s">&#39;</span><span class="se">\n</span><span class="s">Date: 16-Aug-2013&#39;</span>
<span class="n">info</span> <span class="o">+=</span> <span class="s">&#39;</span><span class="se">\n</span><span class="s">Data taken by Lauren and John&#39;</span>
<span class="n">info</span> <span class="o">+=</span> <span class="s">&#39;</span><span class="se">\n\n</span><span class="s">   data point    time (sec) height (mm)  &#39;</span>
<span class="n">info</span> <span class="o">+=</span> <span class="s">&#39;uncertainty (mm)&#39;</span>

<span class="n">np</span><span class="o">.</span><span class="n">savetxt</span><span class="p">(</span><span class="s">&#39;MyDataOut.txt&#39;</span><span class="p">,</span>
      <span class="nb">zip</span><span class="p">(</span><span class="n">dataPt</span><span class="p">,</span> <span class="n">time</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">error</span><span class="p">),</span> <span class="n">header</span><span class="o">=</span><span class="n">info</span><span class="p">,</span> <span class="n">fmt</span><span class="o">=</span><span class="s">&quot;</span><span class="si">%12.1f</span><span class="s">&quot;</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
<p>Now the data file produces has a header preceding the data.  Notice that the header rows all start with a <tt class="docutils literal"><span class="pre">#</span></tt> comment character, which is the default setting for the <tt class="docutils literal"><span class="pre">savetxt</span></tt> function. This can be changed using the keyword argument <tt class="docutils literal"><span class="pre">comments</span></tt>.  You can find more information about <tt class="docutils literal"><span class="pre">savetxt</span></tt> using the IPython <tt class="docutils literal"><span class="pre">help</span></tt> function or from the online NumPy documentation.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="c"># Data for falling mass experiment</span>
<span class="c"># Date: 16-Aug-2013</span>
<span class="c"># Data taken by Lauren and John</span>
<span class="c">#</span>
<span class="c">#    data point    time (sec) height (mm)  uncertainty (mm)</span>
         <span class="mf">0.0</span>          <span class="mf">0.0</span>        <span class="mf">180.0</span>          <span class="mf">3.5</span>
         <span class="mf">1.0</span>          <span class="mf">0.5</span>        <span class="mf">182.0</span>          <span class="mf">4.5</span>
         <span class="mf">2.0</span>          <span class="mf">1.0</span>        <span class="mf">178.0</span>          <span class="mf">4.0</span>
         <span class="mf">3.0</span>          <span class="mf">1.5</span>        <span class="mf">165.0</span>          <span class="mf">5.5</span>
         <span class="mf">4.0</span>          <span class="mf">2.0</span>        <span class="mf">160.0</span>          <span class="mf">2.5</span>
         <span class="mf">5.0</span>          <span class="mf">2.5</span>        <span class="mf">148.0</span>          <span class="mf">3.0</span>
         <span class="mf">6.0</span>          <span class="mf">3.0</span>        <span class="mf">136.0</span>          <span class="mf">2.5</span>
         <span class="mf">7.0</span>          <span class="mf">3.5</span>        <span class="mf">120.0</span>          <span class="mf">3.0</span>
         <span class="mf">8.0</span>          <span class="mf">4.0</span>         <span class="mf">99.0</span>          <span class="mf">4.0</span>
         <span class="mf">9.0</span>          <span class="mf">4.5</span>         <span class="mf">83.0</span>          <span class="mf">2.5</span>
        <span class="mf">10.0</span>          <span class="mf">5.0</span>         <span class="mf">55.0</span>          <span class="mf">3.6</span>
        <span class="mf">11.0</span>          <span class="mf">5.5</span>         <span class="mf">35.0</span>          <span class="mf">1.8</span>
        <span class="mf">12.0</span>          <span class="mf">6.0</span>          <span class="mf">5.0</span>          <span class="mf">0.8</span>
</pre></div>
</div>
</div>
<div class="section" id="writing-data-to-a-csv-file">
<h3>Writing data to a CSV file<a class="headerlink" href="#writing-data-to-a-csv-file" title="Permalink to this headline">¶</a></h3>
<p>To produce a CSV file, you would specify a comma as the delimiter.  You might use the <tt class="docutils literal"><span class="pre">0.1f</span></tt> format specifier, which leaves no extra spaces between the comma data separators, as the file is to be read by a spreadsheet program, which will determine how the numbers are displayed.  The code, which could be substituted for the <tt class="docutils literal"><span class="pre">savetxt</span></tt> line in the above code reads</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">np</span><span class="o">.</span><span class="n">savetxt</span><span class="p">(</span><span class="s">&#39;MyDataOut.csv&#39;</span><span class="p">,</span>
        <span class="nb">zip</span><span class="p">(</span><span class="n">dataPt</span><span class="p">,</span> <span class="n">time</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">error</span><span class="p">),</span> <span class="n">fmt</span><span class="o">=</span><span class="s">&quot;</span><span class="si">%0.1f</span><span class="s">&quot;</span><span class="p">,</span>
        <span class="n">delimiter</span><span class="o">=</span><span class="s">&quot;,&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>and produces the following data file</p>
<div class="highlight-python"><div class="highlight"><pre><span class="mf">0.0</span><span class="p">,</span><span class="mf">0.0</span><span class="p">,</span><span class="mf">180.0</span><span class="p">,</span><span class="mf">3.5</span>
<span class="mf">1.0</span><span class="p">,</span><span class="mf">0.5</span><span class="p">,</span><span class="mf">182.0</span><span class="p">,</span><span class="mf">4.5</span>
<span class="mf">2.0</span><span class="p">,</span><span class="mf">1.0</span><span class="p">,</span><span class="mf">178.0</span><span class="p">,</span><span class="mf">4.0</span>
<span class="mf">3.0</span><span class="p">,</span><span class="mf">1.5</span><span class="p">,</span><span class="mf">165.0</span><span class="p">,</span><span class="mf">5.5</span>
<span class="mf">4.0</span><span class="p">,</span><span class="mf">2.0</span><span class="p">,</span><span class="mf">160.0</span><span class="p">,</span><span class="mf">2.5</span>
<span class="mf">5.0</span><span class="p">,</span><span class="mf">2.5</span><span class="p">,</span><span class="mf">148.0</span><span class="p">,</span><span class="mf">3.0</span>
<span class="mf">6.0</span><span class="p">,</span><span class="mf">3.0</span><span class="p">,</span><span class="mf">136.0</span><span class="p">,</span><span class="mf">2.5</span>
<span class="mf">7.0</span><span class="p">,</span><span class="mf">3.5</span><span class="p">,</span><span class="mf">120.0</span><span class="p">,</span><span class="mf">3.0</span>
<span class="mf">8.0</span><span class="p">,</span><span class="mf">4.0</span><span class="p">,</span><span class="mf">99.0</span><span class="p">,</span><span class="mf">4.0</span>
<span class="mf">9.0</span><span class="p">,</span><span class="mf">4.5</span><span class="p">,</span><span class="mf">83.0</span><span class="p">,</span><span class="mf">2.5</span>
<span class="mf">10.0</span><span class="p">,</span><span class="mf">5.0</span><span class="p">,</span><span class="mf">55.0</span><span class="p">,</span><span class="mf">3.6</span>
<span class="mf">11.0</span><span class="p">,</span><span class="mf">5.5</span><span class="p">,</span><span class="mf">35.0</span><span class="p">,</span><span class="mf">1.8</span>
<span class="mf">12.0</span><span class="p">,</span><span class="mf">6.0</span><span class="p">,</span><span class="mf">5.0</span><span class="p">,</span><span class="mf">0.8</span>
</pre></div>
</div>
<p>This data file, with a <tt class="docutils literal"><span class="pre">csv</span></tt> extension, can be directly read into a spreadsheet program like Excel.</p>
</div>
</div>
<div class="section" id="exercises">
<h2>Exercises<a class="headerlink" href="#exercises" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p class="first">Write a Python program that calculates how much money you can spend each day for lunch for the rest of the month based on today&#8217;s date and how much money you currently have in your lunch account.  The program should ask you: (1) how much money you have in your account, (2) what today&#8217;s date is, and (3) how many days there are in month.  The program should return your daily allowance.  The results of running your program should look like this:</p>
<div class="highlight-python"><div class="highlight"><pre>How much money (in dollars) in your lunch account? 118.39

What day of the month is today? 17

How many days in this month? 30

You can spend $8.46 each day for the rest of the month.
</pre></div>
</div>
<p><em>Extra:</em> Create a dictionary (see <a class="reference internal" href="../chap3/chap3_arrays.html#chap3dictionaries"><em>Dictionaries</em></a>) that stores the number of days in each month (forget about leap years) and have your program ask what month it is rather than the number of days in the month.</p>
</li>
<li><p class="first">From the IPython terminal, create the following three NumPy arrays:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">a</span> <span class="o">=</span> <span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">])</span>
<span class="n">b</span> <span class="o">=</span> <span class="n">array</span><span class="p">([</span><span class="mi">8</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">4</span><span class="p">])</span>
<span class="n">c</span> <span class="o">=</span> <span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span><span class="o">-</span><span class="mi">6</span><span class="p">,</span><span class="o">-</span><span class="mi">8</span><span class="p">])</span>
</pre></div>
</div>
<p>Now use the <tt class="docutils literal"><span class="pre">zip</span></tt> function to create the object <tt class="docutils literal"><span class="pre">d</span></tt> defined as</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">d</span> <span class="o">=</span> <span class="nb">zip</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">,</span> <span class="n">c</span><span class="p">)</span>
</pre></div>
</div>
<p>Print <tt class="docutils literal"><span class="pre">d</span></tt> out at the terminal prompt.  What kind of object is <tt class="docutils literal"><span class="pre">d</span></tt>?  Hint: It is not a NumPy array.  Convert <tt class="docutils literal"><span class="pre">d</span></tt> into a NumPy array and call that array <tt class="docutils literal"><span class="pre">e</span></tt>.  Type <tt class="docutils literal"><span class="pre">e</span></tt> at the terminal prompt so that <tt class="docutils literal"><span class="pre">e</span></tt> is printed out on the IPython terminal.  One of the elements of <tt class="docutils literal"><span class="pre">e</span></tt> is <tt class="docutils literal"><span class="pre">-8</span></tt>.  Show how to address and print out just that element of <tt class="docutils literal"><span class="pre">e</span></tt>.  Show how to address that same element of <tt class="docutils literal"><span class="pre">d</span></tt>.  What has become of the three original arrays <tt class="docutils literal"><span class="pre">a</span></tt>, <tt class="docutils literal"><span class="pre">b</span></tt>, and <tt class="docutils literal"><span class="pre">c</span></tt>, that is, how do they appear in <tt class="docutils literal"><span class="pre">e</span></tt>?</p>
</li>
<li><p class="first">Create the following data file and then write a Python script to read it into a three NumPy arrays with the variable names <tt class="docutils literal"><span class="pre">f</span></tt>, <tt class="docutils literal"><span class="pre">a</span></tt>, <tt class="docutils literal"><span class="pre">da</span></tt> for the frequency, amplitude, and amplitude error.</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">Date</span><span class="p">:</span> <span class="mi">2013</span><span class="o">-</span><span class="mi">09</span><span class="o">-</span><span class="mi">16</span>
<span class="n">Data</span> <span class="n">taken</span> <span class="n">by</span> <span class="n">Liam</span> <span class="ow">and</span> <span class="n">Selena</span>
<span class="n">frequency</span> <span class="p">(</span><span class="n">Hz</span><span class="p">)</span> <span class="n">amplitude</span> <span class="p">(</span><span class="n">mm</span><span class="p">)</span>  <span class="n">amp</span> <span class="n">error</span> <span class="p">(</span><span class="n">mm</span><span class="p">)</span>
  <span class="mf">0.7500</span>        <span class="mf">13.52</span>         <span class="mf">0.32</span>
  <span class="mf">1.7885</span>        <span class="mf">12.11</span>         <span class="mf">0.92</span>
  <span class="mf">2.8269</span>        <span class="mf">14.27</span>         <span class="mf">0.73</span>
  <span class="mf">3.8654</span>        <span class="mf">16.60</span>         <span class="mf">2.06</span>
  <span class="mf">4.9038</span>        <span class="mf">22.91</span>         <span class="mf">1.75</span>
  <span class="mf">5.9423</span>        <span class="mf">35.28</span>         <span class="mf">0.91</span>
  <span class="mf">6.9808</span>        <span class="mf">60.99</span>         <span class="mf">0.99</span>
  <span class="mf">8.0192</span>        <span class="mf">33.38</span>         <span class="mf">0.36</span>
  <span class="mf">9.0577</span>        <span class="mf">17.78</span>         <span class="mf">2.32</span>
 <span class="mf">10.0962</span>        <span class="mf">10.99</span>         <span class="mf">0.21</span>
 <span class="mf">11.1346</span>         <span class="mf">7.47</span>         <span class="mf">0.48</span>
 <span class="mf">12.1731</span>         <span class="mf">6.72</span>         <span class="mf">0.51</span>
 <span class="mf">13.2115</span>         <span class="mf">4.40</span>         <span class="mf">0.58</span>
 <span class="mf">14.2500</span>         <span class="mf">4.07</span>         <span class="mf">0.63</span>
</pre></div>
</div>
<p>Show that you have correctly read in the data by having your script print out to your computer screen the three arrays.  Format the printing so that it produces output like this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">f</span> <span class="o">=</span>
<span class="p">[</span>  <span class="mf">0.75</span>     <span class="mf">1.7885</span>   <span class="mf">2.8269</span>   <span class="mf">3.8654</span>   <span class="mf">4.9038</span>   <span class="mf">5.9423</span>
   <span class="mf">6.9808</span>   <span class="mf">8.0192</span>   <span class="mf">9.0577</span>  <span class="mf">10.0962</span>  <span class="mf">11.1346</span>  <span class="mf">12.1731</span>
   <span class="mf">13.2115</span>  <span class="mf">14.25</span>  <span class="p">]</span>
<span class="n">a</span> <span class="o">=</span>
<span class="p">[</span> <span class="mf">13.52</span>  <span class="mf">12.11</span>  <span class="mf">14.27</span>  <span class="mf">16.6</span>   <span class="mf">22.91</span>  <span class="mf">35.28</span>  <span class="mf">60.99</span>  <span class="mf">33.38</span>
  <span class="mf">17.78</span>  <span class="mf">10.99</span>   <span class="mf">7.47</span>   <span class="mf">6.72</span>   <span class="mf">4.4</span>    <span class="mf">4.07</span><span class="p">]</span>
<span class="n">da</span> <span class="o">=</span>
<span class="p">[</span> <span class="mf">0.32</span>  <span class="mf">0.92</span>  <span class="mf">0.73</span>  <span class="mf">2.06</span>  <span class="mf">1.75</span>  <span class="mf">0.91</span>  <span class="mf">0.99</span>  <span class="mf">0.36</span>  <span class="mf">2.32</span>
  <span class="mf">0.21</span>  <span class="mf">0.48</span>  <span class="mf">0.51</span>  <span class="mf">0.58</span>  <span class="mf">0.63</span><span class="p">]</span>
</pre></div>
</div>
<p>Note that the array <tt class="docutils literal"><span class="pre">f</span></tt> is displayed with four digits to the right of the decimal point while the arrays <tt class="docutils literal"><span class="pre">a</span></tt> and <tt class="docutils literal"><span class="pre">da</span></tt> are displayed with only two.  The columns of the displayed arrays need not line up as they do above.</p>
</li>
<li><p class="first">Write a script to read the data from the previous problem into three NumPy arrays with the variable names <tt class="docutils literal"><span class="pre">f</span></tt>, <tt class="docutils literal"><span class="pre">a</span></tt>, <tt class="docutils literal"><span class="pre">da</span></tt> for the frequency, amplitude, and amplitude error and then, in the same script, write the data out to a data file, including the header, with the data displayed in three columns, just as its displayed in the problem above.  It&#8217;s ok if the header lines begin with the <tt class="docutils literal"><span class="pre">#</span></tt> comment character.  Your data file should have the extension <tt class="docutils literal"><span class="pre">.txt</span></tt>.</p>
</li>
<li><p class="first">Write a script to read the data from the previous problem into three NumPy arrays with the variable names <tt class="docutils literal"><span class="pre">f</span></tt>, <tt class="docutils literal"><span class="pre">a</span></tt>, <tt class="docutils literal"><span class="pre">da</span></tt> for the frequency, amplitude, and amplitude error and then, in the same script, write the data out to a csv data file, without the header, to a data file with the data displayed in three columns.  Use a single format specifier and set it to <tt class="docutils literal"><span class="pre">&quot;%0.16e&quot;</span></tt>.  If you have access the spreadsheet program (like MS Excel), try opening the file you have created with your Python script and verify that the arrays are displayed in three columns.  Note that your csv file should have the extension <tt class="docutils literal"><span class="pre">.csv</span></tt>.</p>
</li>
</ol>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../pymanMaster.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Input and Output</a><ul>
<li><a class="reference internal" href="#keyboard-input">Keyboard input</a></li>
<li><a class="reference internal" href="#screen-output">Screen output</a><ul>
<li><a class="reference internal" href="#formatting-output-with-str-format">Formatting output with <tt class="docutils literal"><span class="pre">str.format()</span></tt></a></li>
<li><a class="reference internal" href="#printing-arrays">Printing arrays</a></li>
</ul>
</li>
<li><a class="reference internal" href="#file-input">File input</a><ul>
<li><a class="reference internal" href="#reading-data-from-a-text-file">Reading data from a text file</a></li>
<li><a class="reference internal" href="#reading-data-from-a-csv-file">Reading data from a CSV file</a></li>
</ul>
</li>
<li><a class="reference internal" href="#file-output">File output</a><ul>
<li><a class="reference internal" href="#writing-data-to-a-text-file">Writing data to a text file</a></li>
<li><a class="reference internal" href="#writing-data-to-a-csv-file">Writing data to a CSV file</a></li>
</ul>
</li>
<li><a class="reference internal" href="#exercises">Exercises</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="../chap3/chap3_arrays.html"
                        title="previous chapter">Strings, Lists, Arrays, and Dictionaries</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="../chap5/chap5_plot.html"
                        title="next chapter">Plotting</a></p>
  <h3>This Page</h3>
  <ul class="this-page-menu">
    <li><a href="../_sources/chap4/chap4_io.txt"
           rel="nofollow">Show Source</a></li>
  </ul>
<div id="searchbox" style="display: none">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../chap5/chap5_plot.html" title="Plotting"
             >next</a> |</li>
        <li class="right" >
          <a href="../chap3/chap3_arrays.html" title="Strings, Lists, Arrays, and Dictionaries"
             >previous</a> |</li>
        <li><a href="../pymanMaster.html">PyMan 0.9.24 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer">
        &copy; Copyright 2014, David J. Pine.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.2.2.
    </div>
  </body>
</html>